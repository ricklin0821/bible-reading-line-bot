# 📱 LINE Bot 功能完整清單

## 🎯 目前可用的所有功能

---

## 1️⃣ 加入好友（Follow Event）

### 觸發時機
- 使用者第一次加入 LINE Bot

### 回應內容
1. **歡迎訊息**
   ```
   🎉 歡迎加入一年讀經計畫！
   
   🙏 感謝神帶領您來到這裡，讓我們一起透過讀經與神更親近！
   
   📖 請先選擇您想進行的讀經計畫：
   ```

2. **計畫選擇訊息**（附快速回覆按鈕）
   ```
   🎯 請選擇您的讀經計畫：
   
   📘 1. 按卷順序計畫
   從創世記到啟示錄，有系統地一年讀完一遍。
   
   ⚖️ 2. 平衡讀經計畫
   每日搭配舊約、新約、詩篇/箴言，均衡成長！
   ```
   
   **快速回覆按鈕**：
   - 📘 按卷順序
   - ⚖️ 平衡讀經

---

## 2️⃣ 選擇讀經計畫

### 觸發方式
- 輸入 `1` 或點擊「📘 按卷順序」按鈕
- 輸入 `2` 或點擊「⚖️ 平衡讀經」按鈕

### 回應內容
1. **確認訊息**
   ```
   ✅ 太棒了！您已選擇「按卷順序計畫」！
   
   🎉 讓我們一起開始這段美好的讀經旅程吧！
   
   📖 這是您今天的讀經計畫：
   ```

2. **今日讀經計畫**（Flex Message 卡片）
   - 計畫名稱
   - 當前天數 / 總天數
   - 進度百分比
   - 經文範圍（可點擊連結閱讀）
   - 「✅ 回報已完成讀經」按鈕

---

## 3️⃣ 回報完成讀經

### 觸發方式
- 點擊「✅ 回報已完成讀經」按鈕

### 情境 A：今天已經完成
**回應**：
```
🎉 您今天已經完成所有任務了！

🙏 感謝神，您又完成了一天的屬靈功課！

🌟 明天再回來繼續讀經吧！
```

### 情境 B：有未完成的測驗
**回應**：
```
📝 您還有未完成的測驗！

[顯示當前測驗題目]

💡 請輸入您的答案，繼續加油！
```

### 情境 C：首次完成讀經（開始測驗）
**回應**：
```
🎉 太棒了！您已經完成今天的讀經！

📝 現在讓我們來進行今天的經文小測驗，加深對神話語的記憶！
```

然後顯示第一題測驗。

---

## 4️⃣ 回答測驗

### 觸發方式
- 在測驗狀態下輸入任何文字

### 測驗類型
1. **填空題**：輸入缺少的詞語
2. **選擇題**：輸入選項編號（1/2/3/4）

### 回應內容

#### 答對時
```
✅ 答對了！太棒了！

[顯示正確答案和經文出處]

[如果還有下一題]
📝 第 2 題：
[顯示下一題題目]
```

#### 答錯時
```
❌ 答錯了，再想想看！

[顯示正確答案和經文出處]

[如果還有下一題]
📝 第 2 題：
[顯示下一題題目]
```

#### 完成所有測驗
```
🎉 恭喜您！今天的讀經與測驗都完成了！

👏 您又完成了一天的屬靈功課，感謝神的話語滿足我們的心！

📖 這是您明天的讀經計畫：
[顯示明天的讀經計畫卡片]
```

---

## 5️⃣ 問候指令

### 觸發方式
輸入以下任一關鍵字：
- `嗨`
- `你好`
- `Hi`
- `Hello`
- `哈囉`

### 回應內容
```
👋 您好！很高興見到您！

📖 今天想讀經嗎？點擊下方按鈕開始吧！

🙏 願神的話語成為您腳前的燈、路上的光！
```

---

## 6️⃣ 幫助指令

### 觸發方式
輸入以下任一關鍵字：
- `幫助`
- `help`
- `說明`
- `指令`

### 回應內容
```
📚 使用指南

✨ 主要功能：
• 📖 每日讀經計畫推送
• 📝 經文測驗與複習
• 📊 讀經進度追蹤

🎯 如何使用：
1️⃣ 選擇讀經計畫（按卷順序/平衡讀經）
2️⃣ 每天閱讀指定經文
3️⃣ 點擊「回報完成」進行測驗
4️⃣ 完成測驗後查看明天計畫

⏰ 提醒時間：
• 早上 6:00 - 新的讀經計畫
• 中午 12:00 - 讀經提醒
• 傍晚 18:00 - 讀經提醒
• 晚上 21:00 - 最終提醒（附鼓勵經文）

💡 小提示：
• 可以隨時點擊經文連結閱讀聖經
• 測驗答錯不會影響進度
• 未完成的進度會持續提醒

🙏 願神祝福您的讀經旅程！
```

---

## 7️⃣ 聯繫作者功能

### 觸發方式
輸入 `聯繫作者`

### 流程

#### 步驟 1：輸入 Email
**系統回應**：
```
請輸入您的 Email 信箱：
```

**使用者輸入**：Email 地址

**如果格式錯誤**：
```
Email 格式不正確，請重新輸入：
```

#### 步驟 2：輸入訊息
**系統回應**：
```
請輸入您想說的話：
```

**使用者輸入**：想說的內容

#### 步驟 3：完成
**系統回應**：
```
感謝您的聯繫！我們已收到您的訊息，會盡快回覆您。
```

**作者會收到通知**：
```
【使用者聯繫】

姓名：[使用者名稱]
Email：[使用者 Email]

內容：
[使用者訊息]
```

---

## 8️⃣ 自動推送提醒

### 提醒時間表

| 時間 | 類型 | 內容 |
|------|------|------|
| 早上 6:00 | 新計畫推送 | 推送今天的讀經計畫（不管昨天是否完成） |
| 中午 12:00 | 讀經提醒 | 如果今天還沒完成，提醒讀經 |
| 傍晚 18:00 | 讀經提醒 | 如果今天還沒完成，提醒讀經 |
| 晚上 21:00 | 最終提醒 | 如果今天還沒完成，提醒讀經 + 鼓勵經文 |

### 早上推送（6:00）
```
☀️ 早安！新的一天開始了！

📖 這是您今天的讀經計畫：
[顯示讀經計畫卡片]

🙏 願神的話語成為您今天的力量！
```

### 中午/傍晚提醒（12:00 / 18:00）
```
【讀經提醒】
別忘了今天的讀經計畫喔！
範圍：[經文範圍]

請讀完後點擊下方按鈕來回報！
```

### 晚上最終提醒（21:00）
```
【最終提醒：還差一點點！】
您今天的讀經（[經文範圍]）還沒完成喔！

「[鼓勵經文內容]」([經文出處])

願這句經文鼓勵您。請趕快完成，並點擊下方按鈕來回報！
```

---

## 9️⃣ 預設回應

### 觸發時機
- 輸入無法識別的文字

### 回應內容

#### 如果今天還沒完成讀經
```
我不太明白您的意思。🤔

發送 '幫助' 查看使用指南，或點擊下方按鈕開始今天的讀經。

[顯示今日讀經計畫卡片]
```

#### 如果今天已經完成
```
我不太明白您的意思。🤔

發送 '幫助' 查看使用指南，或點擊下方按鈕開始今天的讀經。
```

---

## 🎨 Flex Message 卡片格式

### 讀經計畫卡片

```
┌─────────────────────────────────┐
│ 【平衡讀經計畫 - 第 4 天】       │
│                                 │
│ 今天的讀經範圍是：               │
│                                 │
│ 📖 以斯帖記 7                   │
│ 📖 以斯帖記 8                   │
│ 📖 以弗所書 4                   │
│ 📖 詩篇 4                       │
│                                 │
│ 請您在讀完後，點擊下方按鈕來進   │
│ 行今日的經文測驗！               │
│                                 │
│ [✅ 回報已完成讀經]              │
│ [📚 分享經文]                   │
└─────────────────────────────────┘
```

**特點**：
- 紫色漸層背景
- 每個經文範圍都是可點擊的按鈕
- 點擊後跳轉到 Bible Gateway 閱讀
- 底部有「回報完成」和「分享經文」按鈕

---

## 📊 功能統計

### 可識別的指令
- `1` / `2` - 選擇讀經計畫
- `嗨` / `你好` / `Hi` / `Hello` / `哈囉` - 問候
- `幫助` / `help` / `說明` / `指令` - 查看使用指南
- `聯繫作者` - 聯繫作者功能
- `✅ 回報已完成讀經` - 完成讀經（按鈕）
- 任何文字 - 回答測驗（在測驗狀態下）

### 自動推送
- 早上 6:00 - 新計畫推送
- 中午 12:00 - 讀經提醒
- 傍晚 18:00 - 讀經提醒
- 晚上 21:00 - 最終提醒

### Flex Message 卡片
- 讀經計畫卡片
- 測驗題目卡片

### Quick Reply 快速回覆
- 計畫選擇按鈕
- 回報完成按鈕

---

## 🎯 使用者流程圖

```
加入好友
  ↓
選擇讀經計畫（1 或 2）
  ↓
收到今日讀經計畫
  ↓
閱讀經文
  ↓
點擊「回報完成」
  ↓
回答測驗（3 題）
  ↓
完成測驗
  ↓
收到明天的讀經計畫
  ↓
（循環）
```

---

## 💡 特殊功能

### 1. 進度追蹤
- 自動記錄使用者的讀經進度
- 未完成的進度會持續提醒
- 完成後才會推進到下一天

### 2. 測驗系統
- 每天 3 題測驗
- 填空題和選擇題混合
- 答對答錯都會顯示正確答案

### 3. 鼓勵經文
- 晚上 21:00 的最終提醒會附上隨機鼓勵經文
- 經文來自聖經各卷

### 4. 聯繫作者
- 使用者可以透過 LINE Bot 聯繫作者
- 作者會收到 LINE 通知
- 包含使用者名稱、Email 和訊息內容

---

## 🔧 技術細節

### 訊息類型
- `TextMessage` - 純文字訊息
- `FlexMessage` - 卡片式訊息（讀經計畫、測驗）
- `QuickReply` - 快速回覆按鈕

### 事件類型
- `FollowEvent` - 加入好友
- `MessageEvent` - 接收訊息
- `PostbackEvent` - 按鈕點擊（未使用）

### 狀態管理
- `plan_type` - 讀經計畫類型
- `current_day` - 當前天數
- `last_read_date` - 最後讀經日期
- `quiz_state` - 測驗狀態
- `contact_state` - 聯繫作者狀態

---

## 📝 注意事項

1. **所有回應都包含 emoji**，增加情緒價值
2. **經文連結使用 Bible Gateway**，支援多種聖經 app
3. **測驗狀態會自動保存**，中斷後可以繼續
4. **進度不會自動推進**，必須完成測驗才會推進
5. **提醒只針對未完成的使用者**，已完成的不會收到

---

**最後更新**：2025-11-04
**版本**：v1.0
